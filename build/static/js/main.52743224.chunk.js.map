{"version":3,"sources":["components/Addperson.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Addperson","personManagement","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Persons","person","removePerson","name","number","onClick","Filter","handleFindChange","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","error","className","Error","App","useState","showAll","setShowAll","setNewName","setNewNumber","persons","setPersons","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","addPerson","returnedPerson","concat","setTimeout","updateNumber","personInvolved","find","n","changedNumber","map","filter","length","toLowerCase","includes","event","target","some","preventDefault","window","confirm","console","log","i","p","catch","personToBeRemoved","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52743224.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Addperson = ( {personManagement,\r\n                    newName, \r\n                    newNumber,\r\n                    handleNameChange,\r\n                    handleNumberChange\r\n                  } ) => {\r\n\r\n    return (\r\n        <div>\r\n        <form onSubmit={personManagement}>\r\n        <div>\r\n          name: <input  \r\n            value={newName}\r\n            onChange={handleNameChange} /><br/>\r\n          number: <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange} /><br/>\r\n          <button type=\"submit\"> \r\n            add</button>\r\n        </div>\r\n      </form>\r\n      </div>\r\n    )\r\n}\r\nexport default Addperson","import React from 'react'\r\n\r\nconst Persons = ({ person, removePerson }) => {\r\n    //To show all names or filtered result\r\n    \r\n    return (\r\n           <p>{person.name} {person.number} \r\n           <button onClick={removePerson}> delete </button></p> \r\n    )\r\n}\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ handleFindChange}) => {\r\n  return (\r\n    <div>\r\n       filter shown with<input onChange={handleFindChange} />\r\n    </div>\r\n    )\r\n}\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if (error)\r\n    return (<div className=\"error\"> {message} </div>)\r\n      \r\n    else \r\n    return (<div className=\"notification\"> {message} </div>)\r\n    \r\n  }\r\n\r\nexport default Notification ","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n    <div className=\"error\"> {message} </div>\r\n    )\r\n  }\r\n\r\nexport default Error ","import React, { useState, useEffect } from 'react'\r\nimport Addperson from './components/Addperson'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\n\r\nconst App = () => { \r\n  const [showAll, setShowAll] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n  const [notificationMessage, setNotificationMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    //console.log('effect')\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n    //console.log('promise fulfilled')\r\n    setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n  //console.log('render', persons.length, 'persons')\r\n\r\n  //Add new person\r\n  const personManagement = (event) => { \r\n    //Change number of the existing person \r\n    if (persons.some(person => person.name === newName)){\r\n      event.preventDefault()\r\n     if(window.confirm(`${newName} is already added to notebook, replace the old number with a new one?`)) {\r\n      const personInvolved = persons.find(person => person.name === newName)\r\n      return updateNumber(personInvolved.id)\r\n     }\r\n     else\r\n     return console.log('Clicked cancel')\r\n    }\r\n    //Add new person to the server\r\n    event.preventDefault()\r\n    addPerson()\r\n\r\n  }\r\n\r\n  const addPerson = () => {\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    personService\r\n    .create(personObject)\r\n    .then(returnedPerson => {\r\n      setPersons(persons.concat(returnedPerson))\r\n      \r\n      setNotificationMessage(\r\n        `Added ${newName}`\r\n      )\r\n      setTimeout(() => {\r\n        setNotificationMessage(null)\r\n      }, 2000);\r\n\r\n      setNewName('')\r\n      setNewNumber('')\r\n    })\r\n  }\r\n\r\n  const updateNumber = (id) => {\r\n    const personInvolved = persons.find (n => n.id === id)\r\n    const changedNumber = { ...personInvolved, number: newNumber}\r\n\r\n    personService\r\n    .update(id, changedNumber)\r\n    .then(returnedPerson => {\r\n      setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n    })\r\n\r\n    setNotificationMessage(\r\n      `${personInvolved.name} number modified`\r\n    )\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, 2000);\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n   const personToBeRemoved = id => {\r\n    const personInvolved = persons.find(p => p.id === id)\r\n      if (window.confirm(`Delete ${personInvolved.name} ?`)) {\r\n      personService\r\n      .remove(id)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.filter(p => p.id !== id))\r\n          \r\n          setNotificationMessage(\r\n            `Removed ${personInvolved.name}`\r\n          )\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 2000);\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(\r\n          'This person is not saved to the server'\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 2000);\r\n        console.log(error)\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n    \r\n  \r\n\r\n    //Inputfield management for name\r\n  const handleNameChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  //Inputfield management for number\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n    //Inputfield management for number\r\n  const handleFindChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setShowAll(event.target.value)\r\n  }\r\n\r\n  const filter = showAll.length < 1\r\n      ? persons\r\n      : persons.filter(person => \r\n        person.name.toLowerCase().includes(showAll.toLowerCase()))\r\n  \r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage} />\r\n      <Error message={errorMessage} />\r\n      <Filter handleFindChange={handleFindChange} />\r\n      \r\n      <h2>Add a new</h2>\r\n      <Addperson persons={persons}  \r\n                  newName={newName}\r\n                  newNumber={newNumber}\r\n                  personManagement={personManagement}\r\n                  handleNameChange={handleNameChange}\r\n                  handleNumberChange={handleNumberChange} \r\n                    \r\n      />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n            {filter.map((person, i) =>\r\n                <Persons \r\n                key={i}\r\n                person={person}\r\n                removePerson={() => personToBeRemoved(person.id)} \r\n                />\r\n            )}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}